"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Region1D=function(){var r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,t=function(r,n){return function(t){if(t===n)return r;throw"Illegal access"}},e=function(r){return Array.isArray?Array.isArray(r):r instanceof Array},a=function(r,n){var t=0,e=0;return function(){return t>=r.length&&e>=n.length?null:t>=r.length?{x:n[e],kind:1&e++?-1:1,src:2}:e>=n.length||r[t]<n[e]?{x:r[t],kind:1&t++?-1:1,src:1}:{x:n[e],kind:1&e++?-1:1,src:2}}},i=function(r,n,t){if(!r.length&&!n.length)return[];var e=a(r,n),i=0,u=0,o=0,f=0,s=e(),c=[];do{1===s.src?i+=s.kind:u+=s.kind;for(var h=void 0;(h=e())&&h.x===s.x;)1===h.src?i+=h.kind:u+=h.kind;f=o,o=t(i,u),o!==f&&c.push(s.x),s=h}while(s);return c},u=function(r,n){return i(r,n,function(r,n){return r|n})},o=function(r,n){return i(r,n,function(r,n){return r&n})},f=function(r,n){return i(r,n,function(r,n){return r^n})},s=function(r,n){return i(r,n,function(r,n){return r&~n})},c=function(r,n,t){if(!r.length||!n.length)return"";if(r[r.length-1]<n[0]||n[n.length-1]<r[0])return"";var e=0,i=0,u=a(r,n),o=u(),f=3;do{1===o.src?e+=o.kind:i+=o.kind;for(var s=void 0;(s=u())&&s.x===o.x;)1===s.src?e+=s.kind:i+=s.kind;if(e&i){if(f|=4,t)return"intersect"}else i&~e?f&=-2:e&~i&&(f&=-3);o=s}while(o);switch(f){case 4:return"intersect";case 5:return"a-contain-b";case 6:return"b-contain-a";case 7:return"equal";default:return""}},h=function(r,n){if(!r.length)return!1;if(n<r[0]||n>r[r.length-1])return!1;if(r.length<=8){for(var t=0,e=r.length;e>t;t+=2)if(n>=r[t]&&n<r[t+1])return!0;return!1}for(var a=0,i=r.length,u=0;i>a;){var o=(a+i)/2&-1,f=r[o];if(n===f){u=o;break}f>n?i=o:(u=o,a=o+1)}return!(1&u)},l=function(t){var e=[],a=0;if(!t.length)return e.push(n),e.push(r),e;for(t[a]!=n?e.push(n):a++;a<t.length-1;)e.push(t[a++]);return t[a]!=r&&(e.push(t[a++]),e.push(r)),e},g=function(t,e,a){if(a=Number(a),!(a>n&&r>a))throw"Invalid translation delta";if(e=Number(e),!(e>n&&r>e)||0===e)throw"Invalid scale ratio";for(var i=[],u=0,o=t.length;o>u;u++)i[u]=t[u]*e+a;return i},y=function(r,n){if(r.length!=n.length)return!1;for(var t=0,e=r.length;e>t;t++)if(r[t]!=n[t])return!1;return!0},v=function(r,n,t,e){for(var a=t-n,i=0,u=r.length;u>i;i+=2){var o=r[i],f=r[i+1];e.push({x:o,y:n,width:f-o,height:a,left:o,top:n,right:f,bottom:t})}return e},d=function(r){for(var n=[],t=0,e=r.length;e>t;t+=2)n.push(r[t]),n.push(r[t+1]);return n},p=function(r){for(var n=0,t=0,e=r.length;e>t;t++)n*=23,n+=0|r[t],n&=-1;return n},w=function(r){if(!(r instanceof I))throw console.error("Object must be a Region1D instance."),"Type error"},m=function(r){var n="Type error",t="Expected an ordered array of numeric start/end pairs.",a="Data error",i="Array start/end pairs are not in strictly ascending order.";if(!e(r)||1&r.length)throw console.error(t),n;if(0!=r.length){var u=r[0];if("number"!=typeof u)throw console.error(t),n;for(var o=1,f=r.length;f>o;o++){var s=r[o];if("number"!=typeof s)throw console.error(t),n;if(u>=s)throw console.error(i),a;u=s}}},b={},x=function(r){return r._opaque(b)},I=function(e,a,i){if(a===b)"number"!=typeof i&&(i=p(e));else{if("undefined"!=typeof a||"undefined"!=typeof i)throw"Illegal access";m(e),i=p(e)}this._opaque=t({array:e,min:e.length?e[0]:r,max:e.length?e[e.length-1]:n,hash:i},b)};return I.prototype={union:function(r){w(r);var n=x(this),t=x(r);return new I(u(n.array,t.array),b)},intersect:function(r){w(r);var n=x(this),t=x(r);return new I(o(n.array,t.array),b)},subtract:function(r){w(r);var n=x(this),t=x(r);return new I(s(n.array,t.array),b)},xor:function(r){w(r);var n=x(this),t=x(r);return new I(f(n.array,t.array),b)},not:function(){var r=x(this);return new I(l(r.array),b)},transform:function(r,n){var t=x(this);return new I(g(t.array,r,n))},translate:function(r){var n=x(this);return new I(g(n.array,1,r))},scale:function(r){var n=x(this);return new I(g(n.array,r,0))},isEmpty:function(){return!x(this).array.length},getCount:function(){return x(this).array.length>>1},doesIntersect:function(r){return w(r),!!c(x(this).array,x(r).array,!0)},relate:function(r){return w(r),c(x(this).array,x(r).array,!1)},isPointIn:function(r){return h(x(this).array,Number(r))},equals:function(r){w(r);var n=x(this),t=x(r);return n.hash!=t.hash?!1:y(n.array,t.array)},getRawSpans:function(){var r=x(this);return d(r.array)},getAsRects:function(r,n,t){var e=x(this);return v(e.array,r,n,t||[])},getBounds:function(){var r=x(this);return{min:r.min,max:r.max}},getHashCode:function(){return x(this).hash}},I.empty=new I([],b,0),I}();exports["default"]=Region1D;
//# sourceMappingURL=lib/region1d.min.js.map