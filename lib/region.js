"use strict";var Region1D=function(){var r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,t=function(r,n){return function(t){if(t===n)return r;throw"Illegal access"}},e=function(r){return Array.isArray?Array.isArray(r):r instanceof Array},u=function(r,n,t){if(!r.length&&!n.length)return[];var e=0,u=0,i=function(){return e>=r.length&&u>=n.length?null:e>=r.length?{x:n[u],kind:1&u++?-1:1,src:2}:u>=n.length||r[e]<n[u]?{x:r[e],kind:1&e++?-1:1,src:1}:{x:n[u],kind:1&u++?-1:1,src:2}},o=0,a=0,c=0,f=0,s=i(),h=[];do{1===s.src?o+=s.kind:a+=s.kind;for(var l=void 0;(l=i())&&l.x===s.x;)1===l.src?o+=l.kind:a+=l.kind;f=c,c=t(o,a),c!==f&&h.push(s.x),s=l}while(s);return h},i=function(r,n){return u(r,n,function(r,n){return r|n})},o=function(r,n){return u(r,n,function(r,n){return r&n})},a=function(r,n){return u(r,n,function(r,n){return r^n})},c=function(r,n){return u(r,n,function(r,n){return r&~n})},f=function(r,n){if(!r.length||!n.length)return!1;if(r[r.length-1]<n[0]||n[n.length-1]<r[0])return!1;var t=!1;return u(r,n,function(r,n,e,u){return(r|e)!==(n|u)&&(t=!0),!1}),t},s=function(r,n){if(!r.length)return!1;if(n<r[0]||n>r[r.length-1])return!1;for(var t=0,e=r.length;e>t;t+=2)if(n>=r[t]&&n<r[t+1])return!0;return!1},h=function(t){var e=[],u=0;if(!t.length)return e.push(n),e.push(r),e;for(t[u]!=n?e.push(n):u++;u<t.length-1;)e.push(t[u++]);return t[u]!=r&&(e.push(t[u++]),e.push(r)),e},l=function(r,n){if(r.length!=n.length)return!1;for(var t=0,e=r.length;e>t;t++)if(r[t]!=n[t])return!1;return!0},g=function(r,n,t){for(var e=[],u=0,i=r.length;i>u;u+=2){var o=r[u],a=r[u+1];e.push({x:o,y:n,width:a-o,height:t})}return e},y=function(r){for(var n=0,t=0,e=r.length;e>t;t++)n*=23,n+=0|r[t],n&=-1;return n},p=function(r){if(!(r instanceof m))throw console.error("Object must be a Region1D instance."),"Type error"},d=function(r){var n="Type error",t="Expected an ordered array of numeric start/end pairs.",u="Data error",i="Array start/end pairs are not in strictly ascending order.";if(!e(r)||1&r.length)throw console.error(t),n;if(0!=r.length){var o=r[0];if("number"!=typeof o)throw console.error(t),n;for(var a=1,c=r.length;c>a;a++){var f=r[a];if("number"!=typeof f)throw console.error(t),n;if(o>=f)throw console.error(i),u;o=f}}},v={},m=function(e,u,i){if(u===v)"number"!=typeof i&&(i=y(e));else{if("undefined"!=typeof u||"undefined"!=typeof i)throw"Illegal access";d(e),i=y(e)}this._opaque=t({array:e,minX:e.length?e[0]:r,maxX:e.length?e[e.length-1]:n,checksum:i},v)},w=function(r){return r._opaque(v)};return m.prototype={clone:function(){var r=w(this);return new m(r.array,v,r.checksum)},union:function(r){p(r);var n=w(this),t=w(r);return new m(i(n.array,t.array),v)},intersect:function(r){p(r);var n=w(this),t=w(r);return new m(o(n.array,t.array),v)},subtract:function(r){p(r);var n=w(this),t=w(r);return new m(c(n.array,t.array),v)},xor:function(r){p(r);var n=w(this),t=w(r);return new m(a(n.array,t.array),v)},not:function(){var r=w(this);return new m(h(r.array),v)},isEmpty:function(){return!!w(this).array.length},doesIntersect:function(r){return p(r),f(w(this).array,w(r).array)},isPointIn:function(r){return s(w(this).array,Number(r))},matches:function(r){p(r);var n=w(this),t=w(r);return n.checksum!=t.checksum?!1:l(n.array,t.array)},getRects:function(r,n){var t=w(this);return g(t.array,r,n)},getBounds:function(){var r=w(this);return{minX:r.minX,maxX:r.maxX}}},m}();"undefined"!=typeof exports&&(exports.Region1D=Region1D);
//# sourceMappingURL=lib/region1d.js.map