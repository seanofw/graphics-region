"use strict";var Region1D=function(){var r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,t=function(r,n){return function(t){if(t===n)return r;throw"Illegal access"}},e=function(r){return Array.isArray?Array.isArray(r):r instanceof Array},i=function(r,n){var t=0,e=0;return function(){return t>=r.length&&e>=n.length?null:t>=r.length?{x:n[e],kind:1&e++?-1:1,src:2}:e>=n.length||r[t]<n[e]?{x:r[t],kind:1&t++?-1:1,src:1}:{x:n[e],kind:1&e++?-1:1,src:2}}},u=function(r,n,t){if(!r.length&&!n.length)return[];var e=i(r,n),u=0,o=0,a=0,f=0,c=e(),s=[];do{1===c.src?u+=c.kind:o+=c.kind;for(var h=void 0;(h=e())&&h.x===c.x;)1===h.src?u+=h.kind:o+=h.kind;if(f=a,a=t(u,o),a!==f){if(0>a)return s;s.push(c.x)}c=h}while(c);return s},o=function(r,n){return u(r,n,function(r,n){return r|n})},a=function(r,n){return u(r,n,function(r,n){return r&n})},f=function(r,n){return u(r,n,function(r,n){return r^n})},c=function(r,n){return u(r,n,function(r,n){return r&~n})},s=function(r,n){if(!r.length||!n.length)return!1;if(r[r.length-1]<n[0]||n[n.length-1]<r[0])return!1;var t=0,e=0,u=i(r,n),o=u();do{1===o.src?t+=o.kind:e+=o.kind;for(var a=void 0;(a=u())&&a.x===o.x;)1===a.src?t+=a.kind:e+=a.kind;if(t&e)return!0;o=a}while(o);return!1},h=function(r,n){if(!r.length||"number"!=typeof n)return!1;if(n<r[0]||n>r[r.length-1])return!1;if(r.length<=8){for(var t=0,e=r.length;e>t;t+=2)if(n>=r[t]&&n<r[t+1])return!0;return!1}for(var i=0,u=r.length,o=0;u>i;){var a=(i+u)/2&-1,f=r[a];if(n===f){o=a;break}f>n?u=a:(o=a,i=a+1)}return!(1&o)},l=function(t){var e=[],i=0;if(!t.length)return e.push(n),e.push(r),e;for(t[i]!=n?e.push(n):i++;i<t.length-1;)e.push(t[i++]);return t[i]!=r&&(e.push(t[i++]),e.push(r)),e},g=function(r,n){if(r.length!=n.length)return!1;for(var t=0,e=r.length;e>t;t++)if(r[t]!=n[t])return!1;return!0},y=function(r,n,t){for(var e=[],i=t-n,u=0,o=r.length;o>u;u+=2){var a=r[u],f=r[u+1];e.push({x:a,y:n,width:f-a,height:i,left:a,top:n,right:f,bottom:t})}return e},p=function(r){for(var n=[],t=0,e=r.length;e>t;t+=2)n.push(r[t]),n.push(r[t+1]);return n},d=function(r){for(var n=0,t=0,e=r.length;e>t;t++)n*=23,n+=0|r[t],n&=-1;return n},v=function(r){if(!(r instanceof x))throw console.error("Object must be a Region1D instance."),"Type error"},m=function(r){var n="Type error",t="Expected an ordered array of numeric start/end pairs.",i="Data error",u="Array start/end pairs are not in strictly ascending order.";if(!e(r)||1&r.length)throw console.error(t),n;if(0!=r.length){var o=r[0];if("number"!=typeof o)throw console.error(t),n;for(var a=1,f=r.length;f>a;a++){var c=r[a];if("number"!=typeof c)throw console.error(t),n;if(o>=c)throw console.error(u),i;o=c}}},w={},x=function(e,i,u){if(i===w)"number"!=typeof u&&(u=d(e));else{if("undefined"!=typeof i||"undefined"!=typeof u)throw"Illegal access";m(e),u=d(e)}this._opaque=t({array:e,min:e.length?e[0]:r,max:e.length?e[e.length-1]:n,checksum:u},w)},k=function(r){return r._opaque(w)};return x.prototype={union:function(r){v(r);var n=k(this),t=k(r);return new x(o(n.array,t.array),w)},intersect:function(r){v(r);var n=k(this),t=k(r);return new x(a(n.array,t.array),w)},subtract:function(r){v(r);var n=k(this),t=k(r);return new x(c(n.array,t.array),w)},xor:function(r){v(r);var n=k(this),t=k(r);return new x(f(n.array,t.array),w)},not:function(){var r=k(this);return new x(l(r.array),w)},isEmpty:function(){return!k(this).array.length},doesIntersect:function(r){return v(r),s(k(this).array,k(r).array)},isPointIn:function(r){return h(k(this).array,Number(r))},equals:function(r){v(r);var n=k(this),t=k(r);return n.checksum!=t.checksum?!1:g(n.array,t.array)},getRawSpans:function(){var r=k(this);return p(r.array)},getAsRects:function(r,n){var t=k(this);return y(t.array,r,n)},getBounds:function(){var r=k(this);return{min:r.min,max:r.max}}},x.empty=new x([],w,0),x}();"undefined"!=typeof exports&&(exports.Region1D=Region1D);
//# sourceMappingURL=lib/region.js.map