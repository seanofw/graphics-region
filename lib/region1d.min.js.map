{"version":3,"file":"region1d.js","sources":["../src/region1d.js"],"names":["RegionError","message","name","stackPieces","String","Error","stack","split","shift","join","prototype","Object","create","Region1D","pInf","Number","POSITIVE_INFINITY","nInf","NEGATIVE_INFINITY","regionError","makeProtectedData","protectedData","expectedKey","actualKey","isArray","o","Array","makeCoordinateGenerator","array1","array2","i1","i2","length","x","kind","src","combineData","op","getNext","depth1","depth2","state","lastState","coord","result","nextCoord","push","unionData","intersectData","xorData","subtractData","relateData","earlyOut","isPointInData","array","i","l","start","end","index","midpt","value","notData","newArray","transformData","ratio","delta","arrayEquals","makeRects","minY","maxY","height","minX","maxX","y","width","left","top","right","bottom","makeRawSpans","makeHashCode","hash","verifyRegion1DType","obj","validateData","typeErrorMsg","dataErrorMsg","prev","cur","privateKey","getData","region","_opaque","key","min","max","union","other","data","otherData","intersect","subtract","xor","not","transform","scale","offset","translate","isEmpty","getCount","doesIntersect","relate","isPointIn","equals","getRawSpans","getAsRects","destArray","getBounds","getHashCode","empty","this"],"mappings":"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","sourcesContent":["/**\r\n * First, a custom error type for regions, to make tracking and logging errors easier.\r\n */\r\nfunction RegionError(message) {\r\n\tthis.message = (this.name = \"RegionError\") + \": \" + message;\r\n\tconst stackPieces = String((new Error()).stack).split('\\n');\r\n\tstackPieces.shift();\r\n\tstackPieces.shift();\r\n\tthis.stack = stackPieces.join('\\n');\r\n};\r\nRegionError.prototype = Object.create ? Object.create(Error.prototype) : new Error;\r\n\r\n/**\r\n * Region1D objects are semi-opaque data structures that represent a 1-dimensional\r\n * set on the number line, described using \"spans\" of included points.\r\n *\r\n * ------------------------------------------------------------------------------------------------\r\n *\r\n * Each span in the region has an inclusive start and an exclusive end.  Spans may\r\n * not overlap, and always must appear in sorted order.  So, for example, consider\r\n * this set:\r\n *\r\n *           #####  ####      ###########       ####     #\r\n *        |----+----|----+----|----+----|----+----|----+----|\r\n *       0     5   10   15   20   25   30   35   40   45   50\r\n *\r\n * This set (inclusively) contains the numbers 3-7, 10-13, 20-30, 38-41, and 47.\r\n * Its Region1D representation (using only integer values) would therefore\r\n * consist of these ranges:\r\n *\r\n *   [3,8); [10,14); [20,31); [38,42); [47,48)\r\n *\r\n * And thus the resulting data array stored by the Region1D object would be:\r\n *\r\n *   [3, 8, 10, 14, 20, 31, 38, 42, 47, 48]\r\n *\r\n * Note that when you construct a Region1D, you *must* provide the data array\r\n * in sorted order, or the Region1D's constraints will be violated.\r\n *\r\n * ------------------------------------------------------------------------------------------------\r\n *\r\n * Region1Ds provide many operations that can be used to manipulate their\r\n * data as formal sets, including:\r\n *\r\n *   result = a.union(b);           // Return a new set that is the logical union of the two sets.\r\n *   result = a.intersect(b);       // Return a new set that is the logical intersection of the two sets.\r\n *   result = a.subtract(b);        // Return the logical subtraction of the two sets, i.e., the\r\n *                                  //   equivalent of a.union(b.not()), but computed more efficiently.\r\n *   result = a.xor(b);             // Return the exclusive-or of the two sets, i.e., those ranges\r\n *                                  //   which exist in one set or the other but not both.\r\n *   result = a.not();              // Return the logical complement of the set (which may include infinity).\r\n *   result = a.isEmpty();          // Return true/false if the set is empty.\r\n *   result = a.isPointIn(x);       // Return true if the given coordinate is contained within the set.\r\n *   result = a.doesIntersect(b);   // Return true if the logical intersection of the two sets is nonempty.  This is\r\n *                                  //   more efficient than performing \"!a.intersect(b).isEmpty()\".\r\n *   result = a.equals(b);          // Return true if the sets are identical.\r\n *   result = a.getBounds(b);       // Return { min:, max: } of the Region1D.\r\n *   result = a.getAsRects(minY, maxY); // Return an array of { x:, y:, width:, height: } rectangles describing the Region1D.\r\n *   result = a.getRawSpans();      // Return a raw array of numbers, the same kind that was used to construct the Region1D.\r\n *\r\n * All Region1D operations are carefully written to be bounded in both time and\r\n * space, and all will run in no worse than O(n) or O(n+m) time.\r\n */\r\nconst Region1D = (function() {\r\n\t\r\n\tconst\r\n\r\n\t//---------------------------------------------------------------------------------------------\r\n\t// Global constants.\r\n\t\r\n\t// Precache positive/negative infinity locally.\r\n\tpInf = Number.POSITIVE_INFINITY,\r\n\tnInf = Number.NEGATIVE_INFINITY,\r\n\r\n\tregionError = RegionError,\r\n\r\n\t//---------------------------------------------------------------------------------------------\r\n\t// Helper functions.\r\n\r\n\t/**\r\n\t * Construct a wrapper around the given private data that makes it opaque except for \r\n\t * those with access to the 'expectedKey'.\r\n\t */\r\n\tmakeProtectedData = function(protectedData, expectedKey) {\r\n\t\treturn function(actualKey) {\r\n\t\t\tif (actualKey === expectedKey) return protectedData;\r\n\t\t\telse throw new regionError(\"Illegal access\");\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Determine if the given object is an array. This is provided in newer JavaScript environs,\r\n\t * but is notably lacking in older ones.  We avoid a dependency on a huge package like CoreJS\r\n\t * by just defining the shim here.\r\n\t */\r\n\tisArray = function(o) {\r\n\t\treturn Array.isArray ? Array.isArray(o) : o instanceof Array;\r\n\t},\r\n\t\r\n\t//---------------------------------------------------------------------------------------------\r\n\t// 1-D raw-data-manipulation functions.\r\n\r\n\t/**\r\n\t * Make a function that generates successive lowest values from each of the two given arrays.\r\n\t */\r\n\tmakeCoordinateGenerator = function(array1, array2) {\r\n\t\tlet i1 = 0, i2 = 0;\r\n\t\t\r\n\t\t// Get the next coordinate with the lowest value from either array, keeping\r\n\t\t// track of whether it is a begin (+1) or end (-1) coordinate of its span.  O(1).\r\n\t\treturn function() {\r\n\t\t\tif (i1 >= array1.length && i2 >= array2.length)\r\n\t\t\t\treturn null;\r\n\t\t\telse if (i1 >= array1.length)\r\n\t\t\t\treturn { x: array2[i2], kind: i2++ & 1 ? -1 : +1, src: 2 };\r\n\t\t\telse if (i2 >= array2.length || array1[i1] < array2[i2])\r\n\t\t\t\treturn { x: array1[i1], kind: i1++ & 1 ? -1 : +1, src: 1 };\r\n\t\t\telse\r\n\t\t\t\treturn { x: array2[i2], kind: i2++ & 1 ? -1 : +1, src: 2 };\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Calculate the combination of the given (sorted!) arrays of 1-D region data.\r\n\t * Returns a new array that contains the 1-D combination.\r\n\t */\r\n\tcombineData = function(array1, array2, op) {\r\n\r\n\t\t// Special case: Nothin' from nothin' gives nothin'.\r\n\t\tif (!array1.length && !array2.length)\r\n\t\t\treturn [];\r\n\r\n\t\t// Get the next coordinate with the lowest value from either array, keeping\r\n\t\t// track of whether it is a begin (+1) or end (-1) coordinate of its span.  O(1).\r\n\t\tconst getNext = makeCoordinateGenerator(array1, array2);\r\n\t\t\r\n\t\tlet depth1 = 0, depth2 = 0;\r\n\t\tlet state = 0, lastState = 0;\r\n\r\n\t\t// Do whatever needs to happen at the very first coordinate.\r\n\t\tlet coord = getNext();\r\n\t\t\r\n\t\t// Process all of the coordinates until both arrays are empty, collecting\r\n\t\t// new spans in the 'result' array.  O(n+m).\r\n\t\tconst result = [];\r\n\t\tdo {\r\n\t\t\t// Do whatever happens at this coordinate.\r\n\t\t\tif (coord.src === 1) depth1 += coord.kind;\r\n\t\t\telse depth2 += coord.kind;\r\n\r\n\t\t\t// Process any subsequent coordinates at the same 'x' offset,\r\n\t\t\t// also collecting the one after it.\r\n\t\t\tlet nextCoord;\r\n\t\t\twhile ((nextCoord = getNext()) && nextCoord.x === coord.x) {\r\n\t\t\t\tif (nextCoord.src === 1) depth1 += nextCoord.kind;\r\n\t\t\t\telse depth2 += nextCoord.kind;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Change the state to match whatever happened here.\r\n\t\t\tlastState = state;\r\n\t\t\tstate = op(depth1, depth2);\r\n\r\n\t\t\t// If we entered/exited a new span, emit a start/end X value.\r\n\t\t\tif (state !== lastState) {\r\n\t\t\t\tresult.push(coord.x);\r\n\t\t\t}\r\n\r\n\t\t\tcoord = nextCoord;\r\n\t\t} while (coord);\r\n\r\n\t\treturn result;\r\n\t},\r\n\r\n\t/**\r\n\t * Calculate the union of the given arrays of 1-D region data.\r\n\t * Returns a new array that contains the 1-D union.\r\n\t */\r\n\tunionData = (array1, array2) => combineData(array1, array2,\r\n\t\t(depth1, depth2) => (depth1 | depth2)\r\n\t),\r\n\r\n\t/**\r\n\t * Calculate the intersection of the given arrays of 1-D region data.\r\n\t * Returns a new array that contains the 1-D intersection.\r\n\t */\r\n\tintersectData = (array1, array2) => combineData(array1, array2,\r\n\t\t(depth1, depth2) => (depth1 & depth2)\r\n\t),\r\n\r\n\t/**\r\n\t * Calculate the exclusive-or of the given arrays of 1-D region data.\r\n\t * Returns a new array that contains the 1-D exclusive-or.\r\n\t */\r\n\txorData = (array1, array2) => combineData(array1, array2,\r\n\t\t(depth1, depth2) => (depth1 ^ depth2)\r\n\t),\r\n\r\n\t/**\r\n\t * Calculate the difference of the given arrays of 1-D region data.\r\n\t * Returns a new array that contains the 1-D difference.\r\n\t */\r\n\tsubtractData = (array1, array2) => combineData(array1, array2,\r\n\t\t(depth1, depth2) => (depth1 & ~depth2)\r\n\t),\r\n\r\n\t/**\r\n\t * Calculate whether the given arrays of 1-D region data intersect, and\r\n\t * if so, how.  This requires constant memory, but it may take O(n+m) time.\r\n\t * \r\n\t * If 'earlyOut' is true, this will return only '' or 'intersects', and\r\n\t * it will return that answer as soon as it possibly can, skipping testing\r\n\t * successive data if possible.\r\n\t * \r\n\t * Returns one of:\r\n\t *    '': no intersection\r\n\t *    'intersect': there is at least some kind of intersection\r\n\t *    'a-contain-b': array1 is a proper superset of array2\r\n\t *    'b-contain-a': array2 is a proper superset of array1\r\n\t *    'equal': array1 and array2 represent the same exact region\r\n\t */\r\n\trelateData = function(array1, array2, earlyOut) {\r\n\t\t\r\n\t\t// If either is empty, there's no intersection.\r\n\t\tif (!array1.length || !array2.length) return '';\r\n\t\t\r\n\t\t// If all of the spans of one are before all of the spans of another, there's no intersection.\r\n\t\tif (array1[array1.length - 1] < array2[0]\r\n\t\t\t|| array2[array2.length - 1] < array1[0]) return '';\r\n\t\t\t\r\n\t\t// Test all the spans against each other.\r\n\t\tlet depth1 = 0, depth2 = 0;\r\n\t\tconst getNext = makeCoordinateGenerator(array1, array2);\r\n\r\n\t\t// Do whatever needs to happen at the very first coordinate.\r\n\t\tlet coord = getNext();\r\n\r\n\t\t// Bit flags:  We start out assuming A and B both contain each other, but there\r\n\t\t// is not yet an intersection.  It's weird, but go with it.\r\n\t\tlet result = 3;\r\n\r\n\t\tdo {\r\n\t\t\t// Do whatever happens at this coordinate.\r\n\t\t\tif (coord.src === 1) depth1 += coord.kind;\r\n\t\t\telse depth2 += coord.kind;\r\n\r\n\t\t\t// Process any subsequent coordinates at the same 'x' offset,\r\n\t\t\t// also collecting the one after it.\r\n\t\t\tlet nextCoord;\r\n\t\t\twhile ((nextCoord = getNext()) && nextCoord.x === coord.x) {\r\n\t\t\t\tif (nextCoord.src === 1) depth1 += nextCoord.kind;\r\n\t\t\t\telse depth2 += nextCoord.kind;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Change the state to match whatever happened here.\r\n\t\t\tif (depth1 & depth2) {\r\n\t\t\t\t// Got an intersection.\r\n\t\t\t\tresult |= 4;\r\n\t\t\t\tif (earlyOut) return 'intersect';\r\n\t\t\t}\r\n\t\t\telse if (depth2 & ~depth1) {\r\n\t\t\t\t// A does not contain B.\r\n\t\t\t\tresult &= ~1;\r\n\t\t\t}\r\n\t\t\telse if (depth1 & ~depth2) {\r\n\t\t\t\t// B does not contain A.\r\n\t\t\t\tresult &= ~2;\r\n\t\t\t}\r\n\r\n\t\t\tcoord = nextCoord;\r\n\t\t} while (coord);\r\n\r\n\t\t// Choose an answer based on the resulting flag bits.\r\n\t\tswitch (result) {\r\n\t\t\tcase 4: return 'intersect';\t\t// 1 0 0\r\n\t\t\tcase 5: return 'a-contain-b';\t// 1 0 1\r\n\t\t\tcase 6: return 'b-contain-a';\t// 1 1 0\r\n\t\t\tcase 7: return 'equal';\t\t\t// 1 1 1\r\n\t\t\tdefault: return '';\t\t\t\t// 0 * *\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Determine whether the given point lies within the spans of the Region1D data.\r\n\t */\r\n\tisPointInData = function(array, x) {\r\n\t\t// It can't be in the empty set.\r\n\t\tif (!array.length) return false;\r\n\t\t\r\n\t\t// If it's outside the bounds, it's not anywhere within any of the spans.\r\n\t\tif (x < array[0] || x > array[array.length - 1]) return false;\r\n\t\t\r\n\t\tif (array.length <= 8) {\r\n\t\t\t// Spin over all the spans in a simple linear search.\r\n\t\t\tfor (let i = 0, l = array.length; i < l; i += 2) {\r\n\t\t\t\tif (x >= array[i] && x < array[i+1]) return true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Binary search to find the array index that x is either after or at.\r\n\t\t\tlet start = 0, end = array.length;\r\n\t\t\tlet index = 0;\r\n\t\t\twhile (start < end) {\r\n\t\t\t\tconst midpt = ((start + end) / 2) & ~0;\r\n\t\t\t\tconst value = array[midpt];\r\n\t\t\t\tif (x === value) {\r\n\t\t\t\t\tindex = midpt;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse if (x < value) {\r\n\t\t\t\t\tend = midpt;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tindex = midpt;\r\n\t\t\t\t\tstart = midpt + 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 'index' now is the closest value at or before 'x', so we just need to see if\r\n\t\t\t// it's an odd or even array index to know if 'x' is inside the span or outside it.\r\n\t\t\treturn !(index & 1);\r\n\t\t}\r\n\t},\r\n\t\r\n\t/**\r\n\t * Calculate a complement of the 1-D (sorted!) region data.\r\n\t * This is easy:\r\n\t *    If it starts with -Inf, remove that; otherwise, prepend -Inf.\r\n\t *    If it ends with +Inf, remove that; otherwise, append +Inf.\r\n\t * Returns a new array that contains the 1D complement.\r\n\t */\r\n\tnotData = function(array) {\r\n\t\tconst newArray = [];\r\n\r\n\t\tlet src = 0;\r\n\r\n\t\tif (!array.length) {\r\n\t\t\tnewArray.push(nInf);\r\n\t\t\tnewArray.push(pInf);\r\n\t\t\treturn newArray;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (array[src] != nInf) newArray.push(nInf);\r\n\t\t\telse src++;\r\n\t\t}\r\n\r\n\t\twhile (src < array.length - 1) {\r\n\t\t\tnewArray.push(array[src++]);\r\n\t\t}\r\n\r\n\t\tif (array[src] != pInf) {\r\n\t\t\tnewArray.push(array[src++]);\r\n\t\t\tnewArray.push(pInf);\r\n\t\t}\r\n\t\t\r\n\t\treturn newArray;\r\n\t},\r\n\t\r\n\t/**\r\n\t * Calculate a new region whose coordinates have all been translated/scaled by the given amounts.\r\n\t */\r\n\ttransformData = function(array, ratio, delta) {\r\n\t\tdelta = Number(delta);\r\n\t\tif (!(nInf < delta && delta < pInf))\t// Catches other NaNs as well as infinities.\r\n\t\t\tthrow new regionError(\"Invalid translation delta\");\r\n\t\tratio = Number(ratio);\r\n\t\tif (!(nInf < ratio && ratio < pInf) || ratio === 0)\t\t// Catches other NaNs as well as infinities.\r\n\t\t\tthrow new regionError(\"Invalid scale ratio\");\r\n\r\n\t\tconst newArray = [];\r\n\t\tfor (let i = 0, l = array.length; i < l; i++) {\r\n\t\t\tnewArray[i] = array[i] * ratio + delta;\r\n\t\t}\r\n\t\t\r\n\t\treturn newArray;\r\n\t},\r\n\t\r\n\t/**\r\n\t * Determine if two arrays of (sorted!) 1-D region data are equivalent.\r\n\t * Returns true if they are the same, false if they are different.\r\n\t */\r\n\tarrayEquals = function(array1, array2) {\r\n\t\tif (array1.length != array2.length) return false;\r\n\t\tfor (let i = 0, l = array1.length; i < l; i++) {\r\n\t\t\tif (array1[i] != array2[i]) return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/**\r\n\t * Transform a set of 1-D region data into an array of rectangles with\r\n\t * the given same y and height values.\r\n\t *\r\n\t * Returns a new array that contains rectangles of the form { x:, y:, width:, height:, left:, top:, right:, bottom: }.\r\n\t */\r\n\tmakeRects = function(array, minY, maxY, result) {\r\n\t\tconst height = maxY - minY;\r\n\t\t\r\n\t\tfor (let i = 0, l = array.length; i < l; i += 2) {\r\n\t\t\tconst minX = array[i  ];\r\n\t\t\tconst maxX = array[i+1];\r\n\t\t\tresult.push({\r\n\t\t\t\tx: minX, y: minY, width: maxX - minX, height:height,\r\n\t\t\t\tleft: minX, top: minY, right: maxX, bottom: maxY\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t},\r\n\r\n\t/**\r\n\t * Clone a set of 1-D region data into a raw array.\r\n\t * Returns a new array that contains pairs of points.\r\n\t */\r\n\tmakeRawSpans = function(array) {\r\n\t\tconst result = [];\r\n\t\tfor (let i = 0, l = array.length; i < l; i += 2) {\r\n\t\t\tresult.push(array[i  ]);\r\n\t\t\tresult.push(array[i+1]);\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\r\n\t/**\r\n\t * Calculate a hash that (loosely) describes the given Region1D of data, so that we\r\n\t * can readily tell whether it is different from another.\r\n\t */\r\n\tmakeHashCode = function(array) {\r\n\t\tlet hash = 0;\r\n\t\tfor (let i = 0, l = array.length; i < l; i++) {\r\n\t\t\thash *= 23;\r\n\t\t\thash += array[i] | 0;\r\n\t\t\thash &= ~0;\r\n\t\t}\r\n\t\treturn hash;\r\n\t},\r\n\t\r\n\t/**\r\n\t * Check to ensure that the given object is actually a Region1D, and abort if it is not.\r\n\t */\r\n\tverifyRegion1DType = function(obj) {\r\n\t\tif (!(obj instanceof Region1D)) {\r\n\t\t\tthrow new regionError(\"Object must be a Region1D instance.\");\r\n\t\t}\r\n\t},\r\n\t\r\n\t/**\r\n\t * Check the given data to make sure that it consists of an array of ordered pairs\r\n\t * of span start/end points.\r\n\t */\r\n\tvalidateData = function(array) {\r\n\t\r\n\t\tconst typeErrorMsg = \"Expected an ordered array of numeric start/end pairs.\";\r\n\t\tconst dataErrorMsg = \"Array start/end pairs are not in strictly ascending order.\";\r\n\r\n\t\t// Make sure it's an array of even length.\r\n\t\tif (!isArray(array) || (array.length & 1)) {\r\n\t\t\tthrow new regionError(typeErrorMsg);\r\n\t\t}\r\n\r\n\t\t// Empty array is always valid.\r\n\t\tif (array.length == 0) return;\r\n\r\n\t\t// Get the first entry, and make sure it's a number.\r\n\t\tlet prev = array[0];\r\n\t\tif (typeof prev !== 'number') {\r\n\t\t\tthrow new regionError(typeErrorMsg);\r\n\t\t}\r\n\r\n\t\t// Check each successive entry to make sure that it's (A) a number and (B) strictly\r\n\t\t// greater than the entry before it.\r\n\t\tfor (let i = 1, l = array.length; i < l; i++) {\r\n\t\t\tlet cur = array[i];\r\n\t\t\tif (typeof cur !== 'number') {\r\n\t\t\t\tthrow new regionError(typeErrorMsg);\r\n\t\t\t}\r\n\t\t\tif (cur <= prev) {\r\n\t\t\t\tthrow new regionError(dataErrorMsg);\r\n\t\t\t}\r\n\t\t\tprev = cur;\r\n\t\t}\r\n\t},\r\n\t\r\n\t//---------------------------------------------------------------------------------------------\r\n\t// Public interface.\r\n\t\r\n\t/**\r\n\t * A special private object used to flag internal constructions in such a way that\r\n\t * external callers' data must be validated, but internal data can skip those checks.\r\n\t */\r\n\tprivateKey = {},\r\n\r\n\t/**\r\n\t * Access the internal data, if this is an allowed thing to do.\r\n\t */\r\n\tgetData = function(region) {\r\n\t\treturn region._opaque(privateKey);\r\n\t};\r\n\r\n\t/**\r\n\t * Construct a 1-D region from the given array of start/end X coordinates.  This is a\r\n\t * proper object, with prototype methods for performing operations like\r\n\t * union/intersect/subtract/xor.\r\n\t *\r\n\t * Usage:  new Region1D(array)\r\n\t *\r\n\t * @param array {Array} - The array of span endpoints, in pairs of start (inclusive)\r\n\t *        and end (exclusive) X-coordinates.\r\n\t */\r\n\tfunction Region1D(array, key, hash) {\r\n\t\r\n\t\t// Internal-only second parameter: A 'key' flag, indicating this data came from an\r\n\t\t// internal operation and does not require validation for correctness.\r\n\t\tif (key === privateKey) {\r\n\t\t\r\n\t\t\t// Internal-only third parameter: A hash for comparisons.\r\n\t\t\tif (typeof hash !== 'number')\r\n\t\t\t\thash = makeHashCode(array);\r\n\t\t}\r\n\t\telse if (typeof key !== 'undefined' || typeof hash !== 'undefined') {\r\n\t\t\t// You're not allowed to specify a key unless it's the right one.\r\n\t\t\tthrow new regionError(\"Illegal access\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Verify that the user passed us data that makes sense.\r\n\t\t\tvalidateData(array);\r\n\t\t\thash = makeHashCode(array);\r\n\t\t}\r\n\r\n\t\tthis._opaque = makeProtectedData({\r\n\t\t\tarray: array,\r\n\t\t\tmin: array.length ? array[0] : pInf,\r\n\t\t\tmax: array.length ? array[array.length - 1] : nInf,\r\n\t\t\thash: hash\r\n\t\t}, privateKey);\r\n\t};\r\n\t\r\n\t/**\r\n\t * The row's prototype contains helpers that simply invoke the private operations\r\n\t * to do all the hard work.\r\n\t */\r\n\tRegion1D.prototype = {\r\n\t\tunion: function(other) {\r\n\t\t\tverifyRegion1DType(other);\r\n\t\t\tconst data = getData(this), otherData = getData(other);\r\n\t\t\treturn new Region1D(unionData(data.array, otherData.array), privateKey);\r\n\t\t},\r\n\t\tintersect: function(other) {\r\n\t\t\tverifyRegion1DType(other);\r\n\t\t\tconst data = getData(this), otherData = getData(other);\r\n\t\t\treturn new Region1D(intersectData(data.array, otherData.array), privateKey);\r\n\t\t},\r\n\t\tsubtract: function(other) {\r\n\t\t\tverifyRegion1DType(other);\r\n\t\t\tconst data = getData(this), otherData = getData(other);\r\n\t\t\treturn new Region1D(subtractData(data.array, otherData.array), privateKey);\r\n\t\t},\r\n\t\txor: function(other) {\r\n\t\t\tverifyRegion1DType(other);\r\n\t\t\tconst data = getData(this), otherData = getData(other);\r\n\t\t\treturn new Region1D(xorData(data.array, otherData.array), privateKey);\r\n\t\t},\r\n\t\tnot: function() {\r\n\t\t\tconst data = getData(this);\r\n\t\t\treturn new Region1D(notData(data.array), privateKey);\r\n\t\t},\r\n\t\ttransform: function(scale, offset) {\r\n\t\t\tconst data = getData(this);\r\n\t\t\treturn new Region1D(transformData(data.array, scale, offset));\t\t// No privateKey forces a data check, since we could have lost precision.\r\n\t\t},\r\n\t\ttranslate: function(offset) {\r\n\t\t\tconst data = getData(this);\r\n\t\t\treturn new Region1D(transformData(data.array, 1.0, offset));\t\t// No privateKey forces a data check, since we could have lost precision.\r\n\t\t},\r\n\t\tscale: function(scale) {\r\n\t\t\tconst data = getData(this);\r\n\t\t\treturn new Region1D(transformData(data.array, scale, 0));\t\t// No privateKey forces a data check, since we could have lost precision.\r\n\t\t},\r\n\t\tisEmpty: function() {\r\n\t\t\treturn !getData(this).array.length;\r\n\t\t},\r\n\t\tgetCount: function() {\r\n\t\t\treturn getData(this).array.length >> 1;\r\n\t\t},\r\n\t\tdoesIntersect: function(other) {\r\n\t\t\tverifyRegion1DType(other);\r\n\t\t\treturn !!relateData(getData(this).array, getData(other).array, true);\r\n\t\t},\r\n\t\trelate: function(other) {\r\n\t\t\tverifyRegion1DType(other);\r\n\t\t\treturn relateData(getData(this).array, getData(other).array, false);\r\n\t\t},\r\n\t\tisPointIn: function(x) {\r\n\t\t\treturn isPointInData(getData(this).array, Number(x));\r\n\t\t},\r\n\t\tequals: function(other) {\r\n\t\t\tverifyRegion1DType(other);\r\n\t\t\tconst data = getData(this), otherData = getData(other);\r\n\t\t\tif (data.hash != otherData.hash) return false;\r\n\t\t\treturn arrayEquals(data.array, otherData.array);\r\n\t\t},\r\n\t\tgetRawSpans: function() {\r\n\t\t\tconst data = getData(this);\r\n\t\t\treturn makeRawSpans(data.array);\r\n\t\t},\r\n\t\tgetAsRects: function(minY, maxY, destArray) {\r\n\t\t\tconst data = getData(this);\r\n\t\t\treturn makeRects(data.array, minY, maxY, destArray || []);\r\n\t\t},\r\n\t\tgetBounds: function() {\r\n\t\t\tconst data = getData(this);\r\n\t\t\treturn { min: data.min, max: data.max };\r\n\t\t},\r\n\t\tgetHashCode: function() {\r\n\t\t\treturn getData(this).hash;\r\n\t\t}\r\n\t};\r\n\r\n\t// Construct a convenient shareable 'empty' instance.\r\n\tRegion1D.empty = new Region1D([], privateKey, 0);\r\n\t\t\r\n\treturn Region1D;\r\n\r\n})();\r\n\r\nexport default Region1D;\r\nexport { RegionError, Region1D };\r\n"]}